# AS-IS

### 주문정보
CREATE TABLE `orders` (
  `no` bigint NOT NULL AUTO_INCREMENT COMMENT 'PK',
  `id` varchar(64) NOT NULL COMMENT 'UK',
  `user_no` bigint NOT NULL COMMENT 'FK',
  `address_no` bigint NULL COMMENT 'FK',
  `code` varchar(200) DEFAULT NULL COMMENT '주문코드 (20250101_상품번호_유저번호_당일시퀀스)',
  `title` text NOT NULL COMMENT '주문제목 (상품1 외 5건)',
  `guest_tel` varchar(100) DEFAULT NULL COMMENT '비회원 전화번호',
  `total_price` bigint DEFAULT NULL COMMENT '총 가격',
  `total_quantity` bigint DEFAULT NULL COMMENT '총 수량',
  `total_item_count` bigint DEFAULT NULL COMMENT '총 항목수',
  `ship_price` bigint NOT NULL DEFAULT 0 COMMENT '배송비',
  `status` enum('결제대기','결제완료','배송중','배송완료','주문취소','환불완료') DEFAULT '결제대기' COMMENT '상태 (''결제대기'',''결제완료'',''배송중'',''배송완료'',''주문취소'',''환불완료'')',
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '등록일자',
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일자',
  PRIMARY KEY (`no`),
  UNIQUE KEY `id` (`id`),
  KEY `user_no` (`user_no`),
  KEY `address_no` (`address_no`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`user_no`) REFERENCES `users` (`no`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `orders_ibfk_2` FOREIGN KEY (`address_no`) REFERENCES `address` (`no`) ON DELETE SET NULL ON UPDATE CASCADE
);


### 배송정보
DROP TABLE IF EXISTS `shipments`;

CREATE TABLE `shipments` (
	`no` BIGINT NOT NULL AUTO_INCREMENT COMMENT 'PK',
	`id` VARCHAR(64) NOT NULL COMMENT 'UK',
	`user_no` BIGINT NOT NULL COMMENT 'FK',
	`tel` VARCHAR(100) NOT NULL COMMENT '전화번호',
	`recipient` VARCHAR(100) NOT NULL COMMENT '받는사람',
	`postcode` VARCHAR(100) NULL COMMENT '우편번호',
	`address` TEXT NOT NULL COMMENT '주소',
	`address_dong` TEXT NULL COMMENT '주소 (동)',
	`address_detail` TEXT NOT NULL COMMENT '상세주소',
	`is_main` TINYINT(1) NULL DEFAULT 0 COMMENT '기본배송지여부',
	`delivery_request` TEXT NULL COMMENT '배송요청사항',
	`delivery_method` TEXT NULL COMMENT '수령방법',
	`tracking_no` VARCHAR(100) NULL,
	`ship_company` VARCHAR(100) NULL,
	`status` ENUM('배송준비중','배송시작','배송중','배송완료','주문취소') NULL DEFAULT '배송준비중' COMMENT '배송준비중, 배송시작, 배송중, 배송완료, 주문취소',
	`created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '등록일자',
	`updated_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일자',
	PRIMARY KEY (`no`),
	FOREIGN KEY (`user_no`) REFERENCES `users` (`no`) ON DELETE CASCADE ON UPDATE CASCADE
);


### 배송지 (사용자)
CREATE TABLE `address` (
	`no` BIGINT NOT NULL AUTO_INCREMENT COMMENT 'PK',
	`id` VARCHAR(64) NOT NULL UNIQUE COMMENT 'UK',
	`user_no` BIGINT NOT NULL COMMENT 'FK',
	`tel` VARCHAR(100) NOT NULL COMMENT '전화번호',
	`recipient` VARCHAR(100) NOT NULL COMMENT '받는사람',
	`postcode` VARCHAR(100) NULL COMMENT '우편번호',
	`address` TEXT NOT NULL COMMENT '주소',
	`address_dong` TEXT NULL COMMENT '주소 (동)',
	`address_detail` TEXT NOT NULL COMMENT '상세주소',
	`is_main` TINYINT(1) NULL DEFAULT 0 COMMENT '기본배송지여부',
	`delivery_request` TEXT NULL COMMENT '배송요청사항',
	`delivery_method` TEXT NULL COMMENT '수령방법',
	`created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '등록일자',
	`updated_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일자',
	PRIMARY KEY (`no`),
	FOREIGN KEY (`user_no`) REFERENCES `users` (`no`) ON DELETE CASCADE ON UPDATE CASCADE
);



----

# TO-BE

테이블 생성 파일 : DDL.sql

아래 정보들을 프론트에서 입력받아 서버에 저장하고 이걸 기준으로 수정할거야
각 테이블 컬럼 추가/수정하려고 하는데 기존꺼는 가능하면 컬럼삭제하지 말고
지금 아래 새 정보로 필요한 것들만 위 테이블들에 추가하자
그리고 각 도메인 Orders.java, Shipments.java, Address.java 도메인도 맞춰서 재 변수 추가해주고

## 주문 정보 입력 화면
https://www.figma.com/design/zo3l9WfkMjsuK1QEw5HoON/FALCON?node-id=8-6313&t=mQAFa1nTeXYq7mqi-4

## Customer details
- Email
- First Name
- Last Name

## Delivery details
- Country/Region
- Address
- City
- Zip/Postal code


## 주문 화면 : \page\pay\order.html
이 안에서 주문 정보 입력하는 거 맞춰줘야해
추가로 Cash, Coin 탭 또는 버튼으로 결제 방식 선택할 수 있게

